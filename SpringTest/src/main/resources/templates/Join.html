<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body>

   <h1>회원가입</h1>
   
    <!--  <div th:if="${errorMessage}" style="color: red;">
        <p th:text="${errorMessage}"></p>
    </div>-->

   <form action="join" method="post">

      <input type="text" name="id" id="input_id" placeholder="ID" maxlength="10">
      <button type="button" onclick="idCheck()">아이디 중복체크</button> 
      <span id = "result"></span>
      <br> 
      <input type="password" name="pw" placeholder="PW" maxlength="10"><br> 
      <input type="text" name="name" placeholder="NAME"> <br>
      <input type="text" name="age" placeholder="AGE"> <br>
      <select name="gender">
  		<option value="female">여자</option>
  		<option value="male">남자</option>
	  </select>  <br>
	  <input type="text" name="phone" placeholder="Phon Number"> <br>
      <input type="submit" value="회원가입"> 

   </form>


<script type="text/javascript">
	function idCheck() {
		// 1. 사용자가 입력한 아이디 가져오기
		const input_id = document.getElementById('input_id').value;
		console.log(input_id);
		
		fetch("idCheck?id="+input_id)
			.then((response) => response.text())
			.then((text) => {
				console.log(text);
				document.getElementById('result').innerText = text;
			})
	}
</script>

</body>
</html>